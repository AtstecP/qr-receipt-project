<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Receipt #{{ receipt_id }}</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; }
    header, footer { margin-bottom: 1.5rem; }
    h1 { margin: 0 0 .25rem 0; }
    table { width: 100%; border-collapse: collapse; margin-top: 1rem; }
    th, td { padding: .5rem; border-bottom: 1px solid #ccc; text-align: left; }
    tfoot td { font-weight: bold; }
  </style>
</head>
<body>

<header>
  <h1>{{ company_name }}</h1>
  <p>
    <strong>Receipt&nbsp;ID:</strong> {{ receipt_id }}<br>
    <strong>User&nbsp;ID:</strong> {{ user_id }}<br>
    <strong>Date&nbsp;Time:</strong> {{ timestamp | replace("T", " ") | replace("Z", "") }}
  </p>
</header>

<table>
  <thead>
    <tr>
      <th>Item</th>
      <th style="text-align:center;">Qty</th>
      <th style="text-align:right;">Price&nbsp;($)</th>
      <th style="text-align:right;">Line&nbsp;Total&nbsp;($)</th>
    </tr>
  </thead>
  <tbody>
    {% for item in items_json %}
    <tr>
      <td>{{ item.name }}</td>
      <td style="text-align:center;">{{ item.quantity }}</td>
      <td style="text-align:right;">{{ "%.2f"|format(item.price) }}</td>
      <td style="text-align:right;">{{ "%.2f"|format(item.price * item.quantity) }}</td>
    </tr>
    {% endfor %}
  </tbody>
  <tfoot>
    <tr>
      <td colspan="3" style="text-align:right;">Total&nbsp;($)</td>
      <td style="text-align:right;">{{ "%.2f"|format(total) }}</td>
    </tr>
  </tfoot>
</table>

<footer>
  <p>Thank you for your business!</p>
</footer>

</body>
</html>
